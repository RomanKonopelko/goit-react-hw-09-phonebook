(this["webpackJsonpgoit-react-hw-09-phonebook"]=this["webpackJsonpgoit-react-hw-09-phonebook"]||[]).push([[1],{11:function(t,e,n){"use strict";n.d(e,"h",(function(){return r})),n.d(e,"i",(function(){return a})),n.d(e,"g",(function(){return o})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"e",(function(){return b})),n.d(e,"f",(function(){return j})),n.d(e,"d",(function(){return l})),n.d(e,"j",(function(){return d}));var c=n(2),r=Object(c.b)("contacts/fetchContactRequest"),a=Object(c.b)("contacts/fetchContactSuccess"),o=Object(c.b)("contacts/fetchContactError"),u=Object(c.b)("contacts/addContactRequest"),i=Object(c.b)("contacts/addContactSuccess"),s=Object(c.b)("contacts/addContactError"),b=Object(c.b)("contacts/deleteTodoRequest"),j=Object(c.b)("contacts/deleteTodoSuccess"),l=Object(c.b)("contacts/deleteContactError"),d=Object(c.b)("app/getFilter")},110:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n.n(c),a=n(25),o=n.n(a),u=n(7),i=n(28),s=n(9),b=n(16),j=n(17),l=n(1),d={link:{display:"inline-block",textDecoration:"none",padding:12,fontWeight:700,color:"#2A363B"},activeLink:{color:"#E84A5F"}};function f(){var t=Object(s.c)(j.a.getIsAuthenticated);return Object(l.jsxs)("nav",{children:[Object(l.jsx)(b.b,{to:"/",exact:!0,style:d.link,activeStyle:d.activeLink,children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),t&&Object(l.jsx)(b.b,{to:"/contacts",exact:!0,style:d.link,activeStyle:d.activeLink,children:"\u0417\u0430\u043c\u0435\u0442\u043a\u0438"})]})}var O=n(27),h=n(26),p=n.n(h),g=n.p+"static/media/avatar.6460b311.jpg",x=j.a.getUserName,v={container:{display:"flex",alignItems:"center",padding:"10px 30px"},avatar:{marginRight:4,width:"60px",borderRadius:"50%"},name:{fontWeight:700,marginRight:12}};function m(){var t=g,e=Object(s.c)(x),n=Object(s.b)();return Object(l.jsxs)("div",{style:v.container,children:[Object(l.jsx)("img",{src:t,alt:"",width:"32",style:v.avatar}),Object(l.jsxs)("span",{style:v.name,children:["\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c, ",e]}),Object(l.jsx)("button",{type:"button",className:p.a.button,onClick:function(){return n(O.a.logout)},children:"\u0412\u044b\u0439\u0442\u0438"})]})}var k={link:{display:"inline-block",textDecoration:"none",padding:12,fontWeight:700,color:"#2A363B"},activeLink:{color:"#E84A5F"}};function y(){return Object(l.jsxs)("div",{children:[Object(l.jsx)(b.b,{to:"/register",exact:!0,style:k.link,activeStyle:k.activeLink,children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(l.jsx)(b.b,{to:"/login",exact:!0,style:k.link,activeStyle:k.activeLink,children:"\u041b\u043e\u0433\u0438\u043d"})]})}var _=j.a.getIsAuthenticated,w={header:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #2A363B"}};function A(){var t=Object(s.c)(_);return Object(l.jsxs)("header",{style:w.header,children:[Object(l.jsx)(f,{}),t?Object(l.jsx)(m,{}):Object(l.jsx)(y,{})]})}var C=n(21),S=n(30);function E(t){var e=t.children,n=t.redirectTo,c=Object(S.a)(t,["children","redirectTo"]),r=Object(s.c)(j.a.getIsAuthenticated);return Object(l.jsx)(u.b,Object(C.a)(Object(C.a)({},c),{},{children:r&&c.restricted?Object(l.jsx)(u.a,{to:n}):e}))}function R(t){var e=t.children,n=t.redirectTo,c=Object(S.a)(t,["children","redirectTo"]),r=Object(s.c)(j.a.getIsAuthenticated);return Object(l.jsx)(u.b,Object(C.a)(Object(C.a)({},c),{},{children:r?e:Object(l.jsx)(u.a,{to:n})}))}var T=n(48),I=n(49),L=n(55),B=n(53),U=n(50),q=n.n(U),z=(n(107),function(t){Object(L.a)(n,t);var e=Object(B.a)(n);function n(){return Object(T.a)(this,n),e.apply(this,arguments)}return Object(I.a)(n,[{key:"render",value:function(){return Object(l.jsx)(i.a,{className:p.a.form__container,title:"Loading...",children:Object(l.jsx)(q.a,{type:"Bars",color:"#00BFFF",height:80,width:80})})}}]),n}(c.Component)),N=Object(c.lazy)((function(){return n.e(5).then(n.bind(null,201))})),F=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,202))})),D=Object(c.lazy)((function(){return n.e(4).then(n.bind(null,218))})),P=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,221))}));function W(){var t=Object(s.b)();return Object(c.useEffect)((function(){t(O.a.getCurrentUser)}),[t]),Object(l.jsxs)(i.a,{children:[Object(l.jsx)(A,{}),Object(l.jsx)(c.Suspense,{fallback:Object(l.jsx)(z,{}),children:Object(l.jsxs)(u.d,{children:[Object(l.jsx)(u.a,{path:"/goit-react-hw-08-phonebook",to:"/"}),Object(l.jsx)(u.b,{exact:!0,path:"/",component:N}),Object(l.jsx)(E,{path:"/register",restricted:!0,redirectTo:"/contacts",children:Object(l.jsx)(P,{})}),Object(l.jsx)(E,{path:"/login",restricted:!0,redirectTo:"/contacts",children:Object(l.jsx)(F,{})}),Object(l.jsx)(R,{path:"/contacts",redirectTo:"/login",children:Object(l.jsx)(D,{})})]})})]})}var J,G,M,Z,H,K,Q=n(51),V=n(2),X=n(52),Y=n.n(X),$=n(20),tt=n(54),et=n(3),nt=n(8),ct=n(11),rt=Object(V.c)("",Object(et.a)({},ct.j,(function(t,e){return e.payload}))),at=Object(V.c)([],(J={},Object(et.a)(J,ct.i,(function(t,e){return e.payload})),Object(et.a)(J,ct.c,(function(t,e){var n=e.payload;return 0===t.filter((function(t){return t.name===n.name||t.number===n.number})).length?[].concat(Object(tt.a)(t),[Object(C.a)({},n)]):(alert("this contact or number already exist"),t)})),Object(et.a)(J,ct.f,(function(t,e){var n=e.payload;return t.filter((function(t){var e=t.id;return n!==e}))})),J)),ot=Object(V.c)(!1,(G={},Object(et.a)(G,ct.b,(function(){return!0})),Object(et.a)(G,ct.c,(function(){return!1})),Object(et.a)(G,ct.a,(function(){return!1})),Object(et.a)(G,ct.e,(function(){return!0})),Object(et.a)(G,ct.f,(function(){return!1})),Object(et.a)(G,ct.d,(function(){return!1})),Object(et.a)(G,ct.h,(function(){return!0})),Object(et.a)(G,ct.i,(function(){return!1})),Object(et.a)(G,ct.g,(function(){return!1})),G)),ut=Object(nt.c)({contacts:at,filter:rt,loading:ot}),it=n(4),st={name:null,email:null},bt=Object(V.c)(!1,(M={},Object(et.a)(M,it.l,(function(){return!0})),Object(et.a)(M,it.f,(function(){return!0})),Object(et.a)(M,it.c,(function(){return!0})),Object(et.a)(M,it.d,(function(){return!1})),Object(et.a)(M,it.a,(function(){return!1})),Object(et.a)(M,it.j,(function(){return!1})),Object(et.a)(M,it.i,(function(){return!1})),M)),jt=Object(V.c)(st,(Z={},Object(et.a)(Z,it.l,(function(t,e){return e.payload.user})),Object(et.a)(Z,it.f,(function(t,e){return e.payload.user})),Object(et.a)(Z,it.c,(function(t,e){return e.payload})),Object(et.a)(Z,it.i,(function(){return st})),Z)),lt=Object(V.c)(null,(H={},Object(et.a)(H,it.l,(function(t,e){return e.payload.token})),Object(et.a)(H,it.f,(function(t,e){return e.payload.token})),Object(et.a)(H,it.i,(function(){return null})),H)),dt=Object(V.c)(null,(K={},Object(et.a)(K,it.j,(function(t,e){return e.payload})),Object(et.a)(K,it.d,(function(t,e){return e.payload})),Object(et.a)(K,it.g,(function(t,e){return e.payload})),Object(et.a)(K,it.a,(function(t,e){return e.payload})),K)),ft=Object(nt.c)({isAuthenticated:bt,user:jt,token:lt,error:dt}),Ot={key:"auth",storage:Y.a,whitelist:["token"]},ht=Object(V.a)({reducer:{contactsApp:ut,auth:Object($.g)(Ot,ft)},middleware:Object(V.d)({serializableCheck:{ignoredActions:[$.a,$.f,$.b,$.c,$.d,$.e]}}),devTools:!1}),pt={store:ht,persistor:Object($.h)(ht)};o.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(s.a,{store:pt.store,children:Object(l.jsx)(Q.a,{loading:null,persistor:pt.persistor,children:Object(l.jsx)(b.a,{children:Object(l.jsx)(W,{})})})})}),document.getElementById("root"))},17:function(t,e,n){"use strict";e.a={getIsAuthenticated:function(t){return t.auth.isAuthenticated},getUserName:function(t){return t.auth.user.name}}},26:function(t,e,n){t.exports={form__container:"form_form__container__2IonE",list__container:"form_list__container__29uTh",form:"form_form__1n7Ga",input:"form_input__2D9oZ",label:"form_label__3NjP5",button:"form_button__38a8L"}},27:function(t,e,n){"use strict";var c=n(18),r=n.n(c),a=n(23),o=n(19),u=n.n(o),i=n(4);u.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var s={set:function(t){u.a.defaults.headers.common.Authorization="Bearer ".concat(t)},unset:function(){u.a.defaults.headers.common.Authorization="",console.log(u.a.defaults.headers)}};e.a={token:s,register:function(t){return function(){var e=Object(a.a)(r.a.mark((function e(n){var c,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(i.k)()),e.prev=1,e.next=4,u.a.post("/users/signup",t);case 4:c=e.sent,a=c.data,s.set(a.token),n(Object(i.l)(a)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),n(Object(i.j)(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},login:function(t){return function(){var e=Object(a.a)(r.a.mark((function e(n){var c,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(i.e)()),e.prev=1,e.next=4,u.a.post("/users/login",t);case 4:c=e.sent,a=c.data,s.set(a.token),n(Object(i.f)(a)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),n(Object(i.d)(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},logout:function(){return function(){var t=Object(a.a)(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(i.h)()),t.prev=1,t.next=4,u.a.post("/users/logout");case 4:s.unset(),e(Object(i.i)()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e(Object(i.g)(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},getCurrentUser:function(){return function(){var t=Object(a.a)(r.a.mark((function t(e,n){var c,a,o,b;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=n(),a=c.auth.token){t.next=3;break}return t.abrupt("return");case 3:return s.set(a),e(Object(i.b)()),t.prev=5,t.next=8,u.a.get("/users/current");case 8:o=t.sent,b=o.data,e(Object(i.c)(b)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(5),e(Object(i.a)(t.t0.message));case 16:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(e,n){return t.apply(this,arguments)}}()}}},28:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var c=n(1);function r(t){var e=t.className,n=t.title,r=t.children;return Object(c.jsxs)("div",{className:e,children:[Object(c.jsx)("h2",{children:n}),r]})}},4:function(t,e,n){"use strict";n.d(e,"k",(function(){return r})),n.d(e,"l",(function(){return a})),n.d(e,"j",(function(){return o})),n.d(e,"e",(function(){return u})),n.d(e,"f",(function(){return i})),n.d(e,"d",(function(){return s})),n.d(e,"h",(function(){return b})),n.d(e,"i",(function(){return j})),n.d(e,"g",(function(){return l})),n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return f})),n.d(e,"a",(function(){return O}));var c=n(2),r=Object(c.b)("auth/registerRequest"),a=Object(c.b)("auth/registerSuccess"),o=Object(c.b)("auth/registerError"),u=Object(c.b)("auth/loginRequest"),i=Object(c.b)("auth/loginSuccess"),s=Object(c.b)("auth/loginError"),b=Object(c.b)("auth/logoutRequest"),j=Object(c.b)("auth/logoutSuccess"),l=Object(c.b)("auth/logoutError"),d=Object(c.b)("auth/getCurrentUserRequest"),f=Object(c.b)("auth/getCurrentUserSuccess"),O=Object(c.b)("auth/getCurrentUserError")}},[[110,2,3]]]);
//# sourceMappingURL=main.44fa627f.chunk.js.map