{"version":3,"sources":["redux/contacts/contacts-actions.js","Components/NavBar/Navigation.jsx","avatar.jpg","Components/NavBar/UserMenu.jsx","Components/NavBar/AuthNav.jsx","Components/NavBar/AppBar.jsx","Components/PublicRoute.js","Components/PrivateRoute.js","Components/Loader/Loader.jsx","App.js","redux/contacts/contacts-reducer.js","redux/auth/auth-reducer.js","redux/store.js","index.js","redux/auth/auth-selectors.js","form.module.css","redux/auth/auth-operations.js","Components/Contacts/Container.jsx","redux/auth/auth-actions.js"],"names":["fetchContactRequest","createAction","fetchContactSuccess","fetchContactError","addContactRequest","addContactSuccess","addContactError","deleteContactRequest","deleteContactSuccess","deleteContactError","getFilter","styles","link","display","textDecoration","padding","fontWeight","color","activeLink","Navigation","isAuthenticated","useSelector","authSelectors","getIsAuthenticated","to","exact","style","activeStyle","getUserName","container","alignItems","avatar","marginRight","width","borderRadius","name","UserMenu","defaultAvatar","dispatch","useDispatch","src","alt","type","className","s","button","onClick","authOperations","logout","AuthNav","header","justifyContent","borderBottom","AppBar","PublicRoute","children","redirectTo","routeProps","restricted","PrivateRoute","App","Container","form__container","title","height","Component","HomeView","lazy","LoginView","ContactsView","RegisterView","useEffect","getCurrentUser","fallback","path","component","filterReducer","createReducer","_","payload","contactsReducer","state","filter","contact","number","length","alert","id","loadingReducer","contactsAppReducer","combineReducers","contacts","loading","initialUserState","email","registerSuccess","loginSuccess","getCurrentUserSuccess","loginError","getCurrentUserError","registerError","logoutSuccess","user","token","error","logoutError","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","contactsApp","auth","persistReducer","authReducer","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","devTools","process","persistor","persistStore","ReactDOM","render","StrictMode","document","getElementById","module","exports","axios","defaults","baseURL","set","headers","common","Authorization","unset","console","log","register","credentials","a","registerRequest","post","data","message","login","loginRequest","logoutRequest","getState","persistedToken","getCurrentUserRequest","get"],"mappings":"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","file":"static/js/main.44fa627f.chunk.js","sourcesContent":["import { createAction } from '@reduxjs/toolkit';\r\n\r\nexport const fetchContactRequest = createAction('contacts/fetchContactRequest');\r\nexport const fetchContactSuccess = createAction('contacts/fetchContactSuccess');\r\nexport const fetchContactError = createAction('contacts/fetchContactError');\r\n\r\nexport const addContactRequest = createAction('contacts/addContactRequest');\r\nexport const addContactSuccess = createAction('contacts/addContactSuccess');\r\nexport const addContactError = createAction('contacts/addContactError');\r\n\r\nexport const deleteContactRequest = createAction('contacts/deleteTodoRequest');\r\nexport const deleteContactSuccess = createAction('contacts/deleteTodoSuccess');\r\nexport const deleteContactError = createAction('contacts/deleteContactError');\r\n\r\nexport const getFilter = createAction('app/getFilter');\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux'\r\nimport authSelectors from '../../redux/auth/auth-selectors'\r\n\r\nconst styles = {\r\n    link: {\r\n        display: 'inline-block',\r\n        textDecoration: 'none',\r\n        padding: 12,\r\n        fontWeight: 700,\r\n        color: '#2A363B',\r\n    },\r\n    activeLink: {\r\n        color: '#E84A5F',\r\n    },\r\n};\r\n\r\nexport default function Navigation() {\r\n    const isAuthenticated = useSelector(authSelectors.getIsAuthenticated)\r\n    return (\r\n        <nav>\r\n            <NavLink to=\"/\" exact style={styles.link} activeStyle={styles.activeLink}>\r\n                Главная\r\n    </NavLink>\r\n\r\n            {isAuthenticated && <NavLink\r\n                to=\"/contacts\"\r\n                exact\r\n                style={styles.link}\r\n                activeStyle={styles.activeLink}\r\n            >\r\n                Заметки\r\n    </NavLink>}\r\n        </nav>\r\n    )\r\n};\r\n\r\n","export default __webpack_public_path__ + \"static/media/avatar.6460b311.jpg\";","import { useDispatch, useSelector } from 'react-redux';\r\nimport authSelectors from '../../redux/auth/auth-selectors'\r\nimport authOperations from '../../redux/auth/auth-operations'\r\nimport s from '../../form.module.css'\r\nimport defaultAvatar from '../../avatar.jpg';\r\n\r\nconst { getUserName } = authSelectors\r\n\r\n\r\nconst styles = {\r\n    container: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        padding: '10px 30px'\r\n    },\r\n    avatar: {\r\n        marginRight: 4,\r\n        width: '60px',\r\n        borderRadius: '50%'\r\n\r\n    },\r\n    name: {\r\n        fontWeight: 700,\r\n        marginRight: 12,\r\n    },\r\n};\r\n\r\nexport default function UserMenu() {\r\n    const avatar = defaultAvatar;\r\n    const name = useSelector(getUserName);\r\n\r\n    const dispatch = useDispatch();\r\n    const onLogout = () => dispatch(authOperations.logout)\r\n\r\n    return (\r\n        <div style={styles.container}>\r\n            <img src={avatar} alt=\"\" width=\"32\" style={styles.avatar} />\r\n            <span style={styles.name}>Добро пожаловать, {name}</span>\r\n            <button type=\"button\" className={s.button} onClick={onLogout}>\r\n                Выйти\r\n      </button>\r\n        </div>\r\n    );\r\n}\r\n\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst styles = {\r\n    link: {\r\n        display: 'inline-block',\r\n        textDecoration: 'none',\r\n        padding: 12,\r\n        fontWeight: 700,\r\n        color: '#2A363B',\r\n    },\r\n    activeLink: {\r\n        color: '#E84A5F',\r\n    },\r\n};\r\n\r\nexport default function AuthNav() {\r\n    return (\r\n        <div>\r\n            <NavLink\r\n                to=\"/register\"\r\n                exact\r\n                style={styles.link}\r\n                activeStyle={styles.activeLink}\r\n            >\r\n                Регистрация\r\n      </NavLink>\r\n            <NavLink\r\n                to=\"/login\"\r\n                exact\r\n                style={styles.link}\r\n                activeStyle={styles.activeLink}\r\n            >\r\n                Логин\r\n      </NavLink>\r\n        </div>\r\n    );\r\n}","import { useSelector } from 'react-redux';\r\nimport Navigation from './Navigation';\r\nimport UserMenu from './UserMenu';\r\nimport AuthNav from './AuthNav';\r\nimport authSelectors from '../../redux/auth/auth-selectors'\r\n\r\nconst { getIsAuthenticated } = authSelectors\r\n\r\nconst styles = {\r\n  header: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    borderBottom: '1px solid #2A363B',\r\n  },\r\n};\r\n\r\nexport default function AppBar() {\r\n  const isAuthenticated = useSelector(getIsAuthenticated)\r\n  return (\r\n    <header style={styles.header}>\r\n      <Navigation />\r\n      {isAuthenticated ? <UserMenu /> : <AuthNav />}\r\n    </header>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport authSelectors from '../redux/auth/auth-selectors';\r\n\r\n/**\r\n * - Если маршрут ограниченный, и пользователь залогинен, рендерит редирект на /todos\r\n * - В противном случае рендерит компонент\r\n */\r\nexport default function PublicRoute({ children, redirectTo, ...routeProps }) {\r\n  const isAuthenticated = useSelector(authSelectors.getIsAuthenticated);\r\n  return (\r\n    <Route {...routeProps}>\r\n      {isAuthenticated && routeProps.restricted ? <Redirect to={redirectTo} /> : children}\r\n    </Route>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport authSelectors from '../redux/auth/auth-selectors';\r\n\r\n/**\r\n * - Если маршрут приватный и пользователь залогинен, рендерит компонент\r\n * - В противном случае рендерит Redirect на /login\r\n */\r\nexport default function PrivateRoute({ children, redirectTo, ...routeProps }) {\r\n  const isAuthenticated = useSelector(authSelectors.getIsAuthenticated);\r\n\r\n  return <Route {...routeProps}>{isAuthenticated ? children : <Redirect to={redirectTo} />}</Route>;\r\n}\r\n","import { Component } from 'react'\r\nimport s from '../../form.module.css'\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Container from '../Contacts/Container'\r\nexport default class App extends Component {\r\n    //other logic\r\n    render() {\r\n        return (\r\n            <Container className={s.form__container} title='Loading...'>\r\n                <Loader type=\"Bars\" color=\"#00BFFF\" height={80} width={80} />\r\n            </Container>\r\n\r\n        );\r\n    }\r\n}","import React, { Suspense, lazy, useEffect } from 'react';\r\nimport { Redirect } from 'react-router';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport Container from './Components/Contacts/Container';\r\nimport AppBar from './Components/NavBar/AppBar';\r\nimport authOperations from './redux/auth/auth-operations';\r\nimport { useDispatch } from 'react-redux';\r\nimport PublicRoute from './Components/PublicRoute';\r\nimport PrivateRoute from './Components/PrivateRoute';\r\nimport Loader from './Components/Loader/Loader';\r\n\r\nconst HomeView = lazy(() => import('./Views/HomeView'));\r\nconst LoginView = lazy(() => import('./Views/LoginView'));\r\nconst ContactsView = lazy(() => import('./Views/ContactsView'));\r\nconst RegisterView = lazy(() => import('./Views/RegisterView'));\r\n\r\nexport default function App() {\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(authOperations.getCurrentUser);\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <Container>\r\n      <AppBar />\r\n      <Suspense fallback={<Loader />}>\r\n        <Switch>\r\n          <Redirect path=\"/goit-react-hw-08-phonebook\" to=\"/\" />\r\n          <Route exact path=\"/\" component={HomeView} />\r\n          <PublicRoute path=\"/register\" restricted redirectTo=\"/contacts\">\r\n            <RegisterView />\r\n          </PublicRoute>\r\n          <PublicRoute path=\"/login\" restricted redirectTo=\"/contacts\">\r\n            <LoginView />\r\n          </PublicRoute>\r\n          <PrivateRoute path=\"/contacts\" redirectTo=\"/login\">\r\n            <ContactsView />\r\n          </PrivateRoute>\r\n        </Switch>\r\n      </Suspense>\r\n    </Container>\r\n  );\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\n\r\nimport {\r\n  addContactError,\r\n  addContactRequest,\r\n  addContactSuccess,\r\n  deleteContactSuccess,\r\n  deleteContactError,\r\n  deleteContactRequest,\r\n  fetchContactError,\r\n  fetchContactRequest,\r\n  fetchContactSuccess,\r\n  getFilter,\r\n} from './contacts-actions';\r\n\r\nconst filterReducer = createReducer('', {\r\n  [getFilter]: (_, { payload }) => payload,\r\n});\r\n\r\nconst contactsReducer = createReducer([], {\r\n  [fetchContactSuccess]: (_, { payload }) => payload,\r\n\r\n  [addContactSuccess]: (state, { payload }) => {\r\n    const existedContact = state.filter(\r\n      contact => contact.name === payload.name || contact.number === payload.number,\r\n    );\r\n    if (existedContact.length === 0) {\r\n      return [...state, { ...payload }];\r\n    } else {\r\n      alert('this contact or number already exist');\r\n      return state;\r\n    }\r\n  },\r\n\r\n  [deleteContactSuccess]: (state, { payload }) => state.filter(({ id }) => payload !== id),\r\n});\r\n\r\nconst loadingReducer = createReducer(false, {\r\n  [addContactRequest]: () => true,\r\n  [addContactSuccess]: () => false,\r\n  [addContactError]: () => false,\r\n  [deleteContactRequest]: () => true,\r\n  [deleteContactSuccess]: () => false,\r\n  [deleteContactError]: () => false,\r\n  [fetchContactRequest]: () => true,\r\n  [fetchContactSuccess]: () => false,\r\n  [fetchContactError]: () => false,\r\n});\r\n\r\nconst contactsAppReducer = combineReducers({\r\n  contacts: contactsReducer,\r\n  filter: filterReducer,\r\n  loading: loadingReducer,\r\n});\r\n\r\nexport default contactsAppReducer;\r\n","import { combineReducers } from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\nimport {\r\n  registerError,\r\n  registerSuccess,\r\n  logoutError,\r\n  logoutSuccess,\r\n  loginError,\r\n  loginSuccess,\r\n  getCurrentUserError,\r\n  getCurrentUserSuccess,\r\n} from './auth-actions';\r\n\r\nconst initialUserState = { name: null, email: null };\r\n\r\nconst isAuthenticated = createReducer(false, {\r\n  [registerSuccess]: () => true,\r\n  [loginSuccess]: () => true,\r\n  [getCurrentUserSuccess]: () => true,\r\n  [loginError]: () => false,\r\n  [getCurrentUserError]: () => false,\r\n  [registerError]: () => false,\r\n  [logoutSuccess]: () => false,\r\n});\r\n\r\nconst user = createReducer(initialUserState, {\r\n  [registerSuccess]: (_, { payload }) => payload.user,\r\n  [loginSuccess]: (_, { payload }) => payload.user,\r\n  [getCurrentUserSuccess]: (_, { payload }) => payload,\r\n  [logoutSuccess]: () => initialUserState,\r\n});\r\n\r\nconst token = createReducer(null, {\r\n  [registerSuccess]: (_, { payload }) => payload.token,\r\n  [loginSuccess]: (_, { payload }) => payload.token,\r\n  [logoutSuccess]: () => null,\r\n});\r\n\r\nconst error = createReducer(null, {\r\n  [registerError]: (_, { payload }) => payload,\r\n  [loginError]: (_, { payload }) => payload,\r\n  [logoutError]: (_, { payload }) => payload,\r\n  [getCurrentUserError]: (_, { payload }) => payload,\r\n});\r\n\r\nexport default combineReducers({\r\n  isAuthenticated,\r\n  user,\r\n  token,\r\n  error,\r\n});\r\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\r\nimport storage from 'redux-persist/lib/storage';\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from 'redux-persist';\r\n// import storage from 'redux-persist/lib/storage';\r\nimport contactsAppReducer from './contacts/contacts-reducer';\r\nimport authReducer from './auth/auth-reducer';\r\n\r\nconst authPersistConfig = {\r\n  key: 'auth',\r\n  storage,\r\n  whitelist: ['token'],\r\n};\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    contactsApp: contactsAppReducer,\r\n    auth: persistReducer(authPersistConfig, authReducer),\r\n  },\r\n  middleware: getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n  devTools: process.env.NODE_ENV === 'development',\r\n});\r\n\r\nconst persistor = persistStore(store);\r\n\r\nexport default { store, persistor };\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport { Provider } from 'react-redux';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { PersistGate } from 'redux-persist/es/integration/react';\r\nimport store from './redux/store';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store.store}>\r\n      <PersistGate loading={null} persistor={store.persistor}>\r\n        <BrowserRouter>\r\n          <App />\r\n        </BrowserRouter>\r\n      </PersistGate>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n","const getIsAuthenticated = state => state.auth.isAuthenticated;\r\nconst getUserName = state => state.auth.user.name;\r\n\r\nexport default {\r\n  getIsAuthenticated,\r\n  getUserName,\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form__container\":\"form_form__container__2IonE\",\"list__container\":\"form_list__container__29uTh\",\"form\":\"form_form__1n7Ga\",\"input\":\"form_input__2D9oZ\",\"label\":\"form_label__3NjP5\",\"button\":\"form_button__38a8L\"};","import axios from 'axios';\r\nimport {\r\n  registerError,\r\n  registerRequest,\r\n  registerSuccess,\r\n  logoutError,\r\n  logoutRequest,\r\n  logoutSuccess,\r\n  loginError,\r\n  loginRequest,\r\n  loginSuccess,\r\n  getCurrentUserError,\r\n  getCurrentUserRequest,\r\n  getCurrentUserSuccess,\r\n} from './auth-actions';\r\n\r\naxios.defaults.baseURL = 'https://goit-phonebook-api.herokuapp.com';\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = '';\r\n    console.log(axios.defaults.headers);\r\n  },\r\n};\r\n\r\nconst register = credentials => async dispatch => {\r\n  dispatch(registerRequest());\r\n\r\n  try {\r\n    const { data } = await axios.post('/users/signup', credentials);\r\n\r\n    token.set(data.token);\r\n    dispatch(registerSuccess(data));\r\n  } catch (error) {\r\n    dispatch(registerError(error.message));\r\n  }\r\n};\r\n\r\nconst login = credentials => async dispatch => {\r\n  dispatch(loginRequest());\r\n\r\n  try {\r\n    const { data } = await axios.post('/users/login', credentials);\r\n\r\n    token.set(data.token);\r\n    dispatch(loginSuccess(data));\r\n  } catch (error) {\r\n    dispatch(loginError(error.message));\r\n  }\r\n};\r\n\r\nconst logout = () => async dispatch => {\r\n  dispatch(logoutRequest());\r\n\r\n  try {\r\n    await axios.post('/users/logout');\r\n\r\n    token.unset();\r\n    dispatch(logoutSuccess());\r\n  } catch (error) {\r\n    dispatch(logoutError(error.message));\r\n  }\r\n};\r\n\r\nconst getCurrentUser = () => async (dispatch, getState) => {\r\n  const {\r\n    auth: { token: persistedToken },\r\n  } = getState();\r\n\r\n  if (!persistedToken) return;\r\n\r\n  token.set(persistedToken);\r\n  dispatch(getCurrentUserRequest());\r\n  try {\r\n    const { data } = await axios.get('/users/current');\r\n\r\n    dispatch(getCurrentUserSuccess(data));\r\n  } catch (error) {\r\n    dispatch(getCurrentUserError(error.message));\r\n  }\r\n};\r\n\r\nexport default {\r\n  token,\r\n  register,\r\n  login,\r\n  logout,\r\n  getCurrentUser,\r\n};\r\n","export default function Container({ className, title, children }) {\r\n    return <div className={className}><h2>{title}</h2>{children}</div>\r\n}","import { createAction } from '@reduxjs/toolkit';\r\n\r\nexport const registerRequest = createAction('auth/registerRequest');\r\nexport const registerSuccess = createAction('auth/registerSuccess');\r\nexport const registerError = createAction('auth/registerError');\r\n\r\nexport const loginRequest = createAction('auth/loginRequest');\r\nexport const loginSuccess = createAction('auth/loginSuccess');\r\nexport const loginError = createAction('auth/loginError');\r\n\r\nexport const logoutRequest = createAction('auth/logoutRequest');\r\nexport const logoutSuccess = createAction('auth/logoutSuccess');\r\nexport const logoutError = createAction('auth/logoutError');\r\n\r\nexport const getCurrentUserRequest = createAction('auth/getCurrentUserRequest');\r\nexport const getCurrentUserSuccess = createAction('auth/getCurrentUserSuccess');\r\nexport const getCurrentUserError = createAction('auth/getCurrentUserError');\r\n"],"sourceRoot":""}